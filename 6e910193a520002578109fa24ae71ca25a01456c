{
  "comments": [
    {
      "key": {
        "uuid": "37b53ada_e5509498",
        "filename": "post_tasks/roles/replace-controller/tasks/finalize.yml",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1013090
      },
      "writtenOn": "2019-01-06T08:29:21Z",
      "side": 1,
      "message": "To use ignore_errors on almost all the tasks in the playbook is a bad practice. Is their a good reason for it?",
      "revId": "6e910193a520002578109fa24ae71ca25a01456c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "895587b2_00ebd629",
        "filename": "post_tasks/roles/replace-controller/tasks/finalize.yml",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1012952
      },
      "writtenOn": "2019-01-06T12:32:08Z",
      "side": 1,
      "message": "Yes there is, \nWe are following the documentation, \nIn the documentation they state that \"IF\" there are resources to be moved to the new node , they should be moved.\n\nsee : \nhttp://file.bne.redhat.com/~dmacpher/Red_Hat_OpenStack_Platform/dmacpher-osp14-controller-replacement/doc-Director_Installation_and_Usage/replacing-controller-nodes.html\n#section : 12.6. Cleaning up after Controller node replacement: \n 7.If any agents appear for the old node, remove them: ...\n8.If necessary, add your hosting router to the L3 agent on the new node. \netc...",
      "parentUuid": "37b53ada_e5509498",
      "revId": "6e910193a520002578109fa24ae71ca25a01456c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "db4a12e0_4a18471b",
        "filename": "post_tasks/roles/replace-controller/tasks/finalize.yml",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1012221
      },
      "writtenOn": "2019-01-06T12:52:11Z",
      "side": 1,
      "message": "I\u0027m not sure I agree with that. What if we\u0027ll have other errors not related to the \"IF\" condition? in that case we\u0027ll ignore them also.",
      "parentUuid": "895587b2_00ebd629",
      "revId": "6e910193a520002578109fa24ae71ca25a01456c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4a789148_32293c9a",
        "filename": "post_tasks/roles/replace-controller/tasks/finalize.yml",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1012952
      },
      "writtenOn": "2019-01-06T13:05:31Z",
      "side": 1,
      "message": "After a discussion , I agree about this, \nThere should be some basic checks in this block that will \nreplace using ignore_errors:true\ni.e :\nonly if there are agents in the old nodes and only if there are routers on those , execute the tasks that remove and move them to the new controller.",
      "parentUuid": "db4a12e0_4a18471b",
      "revId": "6e910193a520002578109fa24ae71ca25a01456c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb7a6caa_e7691add",
        "filename": "post_tasks/roles/replace-controller/tasks/finalize.yml",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1006843
      },
      "writtenOn": "2019-01-07T18:20:16Z",
      "side": 1,
      "message": "I will try to make it in a smarter way instead of just ignoring errors in next patchset.",
      "parentUuid": "4a789148_32293c9a",
      "revId": "6e910193a520002578109fa24ae71ca25a01456c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b071631_8dc2902c",
        "filename": "post_tasks/roles/replace-controller/tasks/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1012221
      },
      "writtenOn": "2019-01-06T10:07:08Z",
      "side": 1,
      "message": "Should those tasks be before the replace node or after?\nFrom documentation it seems to me like that tasks inside are executed after the replace.",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 18,
        "endChar": 35
      },
      "revId": "6e910193a520002578109fa24ae71ca25a01456c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee92db7a_cc0b3c26",
        "filename": "post_tasks/roles/replace-controller/tasks/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1012952
      },
      "writtenOn": "2019-01-06T12:32:08Z",
      "side": 1,
      "message": "This is fine, \nyou are looking at the old doc , \nthe new one states that these steps should happen before: \nhttp://file.bne.redhat.com/~dmacpher/Red_Hat_OpenStack_Platform/dmacpher-osp14-controller-replacement/doc-Director_Installation_and_Usage/replacing-controller-nodes.html\n\nWe should use the new doc on this since after the first redeployment it no longer fails.\nsee Damien\u0027 comment on this : \nhttps://bugzilla.redhat.com/show_bug.cgi?id\u003d1647748#c6\n\nIn section : 12.3. Preparing the cluster for Controller replacement",
      "parentUuid": "1b071631_8dc2902c",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 18,
        "endChar": 35
      },
      "revId": "6e910193a520002578109fa24ae71ca25a01456c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a33852db_9f20da8b",
        "filename": "post_tasks/roles/replace-controller/tasks/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1012221
      },
      "writtenOn": "2019-01-06T12:52:11Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ee92db7a_cc0b3c26",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 18,
        "endChar": 35
      },
      "revId": "6e910193a520002578109fa24ae71ca25a01456c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "82062e19_e5fc9059",
        "filename": "post_tasks/roles/replace-controller/templates/remove-controller.yaml.j2",
        "patchSetId": 1
      },
      "lineNbr": 6,
      "author": {
        "id": 1012221
      },
      "writtenOn": "2019-01-06T10:07:08Z",
      "side": 1,
      "message": "If this is no longer needed maybe you can remove it instead of comment it?",
      "range": {
        "startLine": 5,
        "startChar": 0,
        "endLine": 6,
        "endChar": 50
      },
      "revId": "6e910193a520002578109fa24ae71ca25a01456c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17d228b4_f87dbe71",
        "filename": "post_tasks/roles/replace-controller/templates/remove-controller.yaml.j2",
        "patchSetId": 1
      },
      "lineNbr": 6,
      "author": {
        "id": 1012952
      },
      "writtenOn": "2019-01-06T12:32:08Z",
      "side": 1,
      "message": "I think we can safely remove this , \nthis was needed when the first deployment failed\n(to help fail faster and speed up the process)",
      "parentUuid": "82062e19_e5fc9059",
      "range": {
        "startLine": 5,
        "startChar": 0,
        "endLine": 6,
        "endChar": 50
      },
      "revId": "6e910193a520002578109fa24ae71ca25a01456c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78a7c3e5_1ff7abad",
        "filename": "post_tasks/roles/replace-controller/templates/remove-controller.yaml.j2",
        "patchSetId": 1
      },
      "lineNbr": 6,
      "author": {
        "id": 1006843
      },
      "writtenOn": "2019-01-07T18:20:16Z",
      "side": 1,
      "message": "That\u0027s true I will remove it in next patchet.",
      "parentUuid": "17d228b4_f87dbe71",
      "range": {
        "startLine": 5,
        "startChar": 0,
        "endLine": 6,
        "endChar": 50
      },
      "revId": "6e910193a520002578109fa24ae71ca25a01456c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}